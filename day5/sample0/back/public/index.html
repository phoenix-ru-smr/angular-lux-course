<html ng-app="app">
<head>
  <title>Hell from node</title>
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <script src="js/angular.js"></script>
  <style type="text/css">
    .myrow {
      height: 30px;
      align-content:flex-start;
    }
  </style>
</head>
<body ng-controller="UserCtrl as ctrl">
      <h1 class="page-header">Odminka</h1>
      <div class="container" >
        <div class="row">

          <div class="col-xs-5 col-sm-5 col-md-4 col-lg-4">
            <h4>Admins</h4>
            <select size = 10 style="min-width:100%" ng-model="ctrl.userService.selectedAdmin"
                ng-options="item.fullname() for item in ctrl.userService.users | UserAdminFilter:true track by item.id">
            </select>
            <button class="btn" style="margin-top:5px"
                ng-click="ctrl.deleteUser(ctrl.userService.selectedAdmin)",
                ng-disabled="!ctrl.userService.selectedAdmin">Delete Admin</button>
          </div>

          <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1" style="padding-top:40px">
            <button style="min-width:100%" class="btn"
                ng-click="ctrl.toggleAdmin(ctrl.userService.selectedUser)" ng-disabled="!ctrl.userService.selectedUser"> < </button>
            <button style="min-width:100%" class="btn"
                ng-click="ctrl.toggleAdmin(ctrl.userService.selectedAdmin)" ng-disabled="!ctrl.userService.selectedAdmin"> > </button>
          </div>


          <div class="col-xs-5 col-sm-5 col-md-4 col-lg-4">
            <h4>Non-Admins</h4>
            <select size = 10 style="min-width:100%" ng-model="ctrl.userService.selectedUser"
                ng-options="item.fullname() for item in ctrl.userService.users | UserAdminFilter:false track by item.id">
            </select>
            <button class="btn" style="margin-top:5px"
                ng-click="ctrl.deleteUser(ctrl.userService.selectedUser)"
                ng-disabled="!ctrl.userService.selectedUser">Delete User</button>
            <button class="btn" style="margin-top:5px"
                ng-click="isEdit = true; id = ctrl.userService.selectedUser.id; name = ctrl.userService.selectedUser.name; surname = ctrl.userService.selectedUser.surname"
                ng-disabled="!ctrl.userService.selectedUser">Edit User</button>
          </div>
        </div>

        <form role="form" class="form-horizontal" style="margin-top:30">
          <div class="form-group" ng-hide="!isEdit" >
            <label class="control-label col-sm-2 col-md-1 col-xs-3 col-lg-1" for="id">Id:</label>
            <div class="col-sm-10 col-md-10 col-xs-9 col-lg-10">
              <input type="text" ng-disabled="true" class="form-control" id="id" ng-model="id"/>
            </div>
          </div>

          <div class="form-group ">
            <label class="control-label col-sm-2 col-md-1 col-xs-3 col-lg-1" for="name">Name:</label>
            <div class="col-sm-10 col-md-10 col-xs-9 col-lg-10">
              <input type="text" class="form-control" id="name" ng-model="name" placeholder="Enter user name"/>
            </div>
          </div>

          <div class="form-group">
            <label for="surname" class="control-label col-sm-2 col-md-1 col-xs-3 col-lg-1">Surname:</label>
            <div class="col-sm-10 col-md-10 col-xs-9 col-lg-10">
              <input type="text" class="form-control" id="surname" ng-model="surname" placeholder="Enter user surname"/>
            </div>
          </div>

          <button class="btn btn-default" style="margin-left:0px"
              ng-click="ctrl.addUser(id, name, surname, isEdit); isEdit = false; name=''; surname='';"
              ng-disabled="!name || !surname"><span>{{isEdit ? 'edit user' : 'add user'}}</span></button>

        </form>

      </div>

  <script src="js/app/all.js"></script>
</body>
</html>
